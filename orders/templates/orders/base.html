<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Управление заказами - Кафе</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
          crossorigin="anonymous">

</head>
    <body>
        <nav class="navbar navbar-expand-lg navbar-light bg-light mb-4">
            <div class="container-fluid">
                <a class="navbar-brand" href="{% url 'order_list' %}">Менеджмент</a>
                <div class="navbar-nav">
                    <a class="nav-link" href="{% url 'order_list' %}">Все заказы</a>
                    <a class="nav-link" href="{% url 'order_create' %}">Создать заказ</a>
                    <a class="nav-link" href="{% url 'revenue' %}">Выручка за смену</a>
                </div>
            </div>
        </nav>

        <div class="container">
            {% block content %}
            {% endblock content %}
        </div>
{#        <script>#}
{#            document.addEventListener('DOMContentLoaded', function () {#}
{#                const addItemBtn = document.getElementById('add-item');#}
{#                const itemsContainer = document.getElementById('items-container');#}
{#                const orderForm = document.getElementById('order-form');#}
{#                const itemsJsonField = document.querySelector('input[name="items_json"]');#}
{##}
{#                addItemBtn.addEventListener('click', () => {#}
{#                    const itemGroup = document.createElement('div');#}
{#                    itemGroup.classList.add('item-group', 'col-lg-4', 'col-md-6', 'col-sm-12');#}
{#                    itemGroup.innerHTML = `#}
{#                        <input type="text" name="item_name" placeholder="Название блюда" class="form-control mb-2">#}
{#                        <input type="number" name="item_price" placeholder="Цена" class="form-control mb-2">#}
{#                        <button type="button" class="btn btn-danger btn-md remove-item my-1">Удалить</button>#}
{#                    `;#}
{#                    itemsContainer.appendChild(itemGroup);#}
{##}
{#                    itemGroup.querySelector('.remove-item').addEventListener('click', () => {#}
{#                        itemGroup.remove();#}
{#                    });#}
{#                });#}
{#                orderForm.addEventListener('submit', (e) => {#}
{#                    e.preventDefault();#}
{##}
{#                    const itemNames = document.querySelectorAll('input[name="item_name"]');#}
{#                    const itemPrices = document.querySelectorAll('input[name="item_price"]');#}
{##}
{#                    const items = {};#}
{##}
{#                    itemNames.forEach((item, index) => {#}
{#                        const name = item.value.trim();#}
{#                        const price = parseFloat(itemPrices[index].value);#}
{##}
{#                        if (name && !isNaN(price)) {#}
{#                            items[name] = price;#}
{#                        }#}
{#                    });#}
{#                    console.log("Отправляем JSON:", items);#}
{#                    if (Object.keys(items).length === 0) {#}
{#                        alert("Добавьте хотя бы одно блюдо.");#}
{#                        return;#}
{#                    }#}
{##}
{#                    itemsJsonField.value = JSON.stringify(items);#}
{##}
{#                    orderForm.submit();#}
{#                });#}
{#            });#}
{#        </script>#}
    </body>
</html>